<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Points on a map</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <style>
    body {
      margin: 5;
      padding: 0;
    }

    #map {
      position: absolute;
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id='map'></div>
  <script>
   
  mapboxgl.accessToken = 'pk.eyJ1IjoieGF2aXNhbnRhIiwiYSI6ImNrNzIwejBjaDA0aTIzZm53OG1jM3o5MXoifQ._rJdKgn_Nx_wsi7blKBlCQ'; // replace this with your access token
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/dark-v10', // replace this with your style URL
    center: [2.191607919009357, 41.40499328136784],
    zoom: 13.7
  });

  
  map.on('load', function(e) {
    console.log('My data:', geojson)

    map.addSource('restaurants-source', {
      'type': 'geojson',
      'data': geojson
    })

    map.addLayer({
      'id': 'restaurants-layer',
      'type': 'symbol',
      'source': 'restaurants-source',
      'layout': {
        'icon-image': 'restaurant-15',
        'icon-size': 1.5
      }      
    });
  })

  map.on('click', function(e) {
    var features = map.queryRenderedFeatures(e.point, {
      layers: ['restaurants-layer']
    });

    if (!features.length) {
      return;
    }

    var feature = features[0];

    var popup = new mapboxgl.Popup({ offset: [0, -15] })
      .setLngLat(feature.geometry.coordinates)
      .setHTML('<h3>' + feature.properties.title + '</h3><p>' + feature.properties.description + '</p>')
      .addTo(map);
  });

  
  </script>
</body>
</html>